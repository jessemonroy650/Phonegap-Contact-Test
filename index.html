<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>PhoneGap Device Test</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="buttons.css" />
    <style>
        body {margin:0px;}
		.hide {display:none;visibility:collapse;}
		.show {display:block;visibility:visible;}
    </style>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8" src="network-info.js"></script>
    <script type="text/javascript">
	var isVisible = true;
	function hideInfo() {
		thePlace1 = document.getElementById('deviceInformation');
		thePlace2 = document.getElementById('networkInformation');
		thePlace3 = document.getElementById('hideButton');
		if (isVisible) {
			thePlace1.classList.add('hide');
			thePlace2.classList.add('hide');
			thePlace3.innerHTML = 'show';
			isVisible = false;
		} else {
			thePlace1.classList.remove('hide');
			thePlace2.classList.remove('hide');
			thePlace3.innerHTML = 'hide';
			isVisible = true;
		}
	}
	function updateNetworkStatus(state) {
		document.getElementById('networkInformation').innerHTML =
			'Network is ' + state + '<br />Using: ' + getConnectionType();
	}
	function getDeviceInfo() {
		information = 'cordova: ' + device.cordova + "<br />" +
						'model: ' + device.model + "<br />" +
						'platform: ' + device.platform + "<br />" +
						'uuid: ' + device.uuid + "<br />" +
						'version: ' + device.version + "<br />";

		document.getElementById('deviceInformation').innerHTML = information;
	}

	function onSuccess(contacts) {
    	//alert('Found ' + contacts.length + ' contacts.');
		document.getElementById('contactInformation').innerHTML = JSON.stringify(contacts, null, 4);
	};
	//
	function onError(contactError) {
    	alert('onError!');
	};
	//
    // Wait for PhoneGap to load
	//
    document.addEventListener("deviceready", onDeviceReady, false);
	// get network state
	document.addEventListener("offline", onNetworkOffline, false);
	document.addEventListener("online", onNetworkOnline, false);
	//
	function onDeviceReady() {
		getDeviceInfo();

		// find all contacts with 'me' in any name field
		var options      = new ContactFindOptions();
		options.filter   = "";
		options.multiple = true;
		//options.desiredFields = [navigator.contacts.fieldType.id];
		var fields       = [navigator.contacts.fieldType.displayName, navigator.contacts.fieldType.name];
		navigator.contacts.find(fields, onSuccess, onError, options);
	}
    </script>
</head>
<body>
<div class="button button-block button-large"><img align=left src=favicon-48x48.png>Phonegap Contact Test</div>
<span onclick="hideInfo()">
	<button id=hideButton class="button button-pill button-primary button-medium" style="margin:1em;float:left;">Hide</button>
</span
<span onclick="navigator.app.exitApp()">
	<button id=exitButton class="button button-pill button-primary button-medium" style="margin:1em;float:right;">Exit</button>
</span>

<p style=clear:both; />

<div id=deviceInformation >
</div>
<hr />
<div id=networkInformation >
</div>
<hr />
<div ><pre id=contactInformation></pre>
</div>
<hr />

<div class="copyright" style="padding:5px;align:left;font-style:italic;font-size:small;">
    <span id=copyright>Created by Jesus Monroy, Jr. &copy; 2015</span>
</div>
</body>
</html>



